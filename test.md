# Руководство по работе с git

## 1.Введение

Система управления версиями (также «система контроля версий») — программное обеспечение для облегчения работы с изменяющейся информацией. Система управления версиями позволяет хранить несколько версий одного и того же документа/проекта, при необходимости возвращаться к более ранним версиям, определять, кто и когда сделал то или иное изменение, и многое другое.

Git — распределённая система управления версиями.

## 2. Команды

### 2.1. Общие

**git --version** - отображает версию git установленную на вашем компьютере.

**git config --global user.name <Ваше имя английскими буквами>** - ввод имени

**git config --global user.email <ваша почта@example.com>** - ввод e-mail

Эти данные  будут отображаться в логе изменений для ваших commit'ов. Остальные разработчики, которые будут работать с данным репозиторием будут иметь информацию кто внес изменения.

Ввод осуществляется 1 раз после установки git на используемом устройстве.

**clear** - очищает окно терминала.

### 2.2. Создание репозитория
**git init** - команда создает пустой репозиторий Git в выбренной папке.

### 2.3. Фиксация изменений
**git add <имя файла с указанием расширения>** — добавить содержимое файла в индекс.

«Индекс» содержит снимок содержимого рабочего дерева, и именно этот снимок берется в качестве содержимого следующего коммита. Таким образом, после внесения любых изменений в рабочее дерево и перед выполнением команды фиксации необходимо использовать эту команду для добавления любых новых или измененных файлов в индекс.

Перед использование изменения в файле должны быть обязательно сохранены. (Ctrl+S)

**git status** - используется для получения сводки о том, в каких файлах есть изменения, подготовленные для следующей фиксации.

**git commit -m "<описание изменений>"** - создайте новую версию, содержащую текущее содержимое индекса и указанное в сообщение журнала с указанным пользователем <описание измениений>. 

### 2.4. Работа с commit'ами (версиями) репозитория

**git log** - отображает историю commit'ов для используемого репозитория.

По умолчанию по этой команде отобразит 2 последних коммита.

Остальные можно увидеть щелкая Enter (будет отображать и преходить на следующий коммит (3й, 4й и т.д.)
Или нажать "пробел", тогда переместится сразу на самый первый коммит.

Если больше 2х коммитов, то терминал переключится в спец режим. Ввод новых команд будет недоступен. Чтобы выйти из этого режима жмем - "q".

**git checkout <первые 4 (или более, если есть версии с повторяющимися 4мя первыми символами) символа хэш-кода выбранного commit'a>** - обновляет файлы в рабочем дереве, чтобы они соответствовали версии выбранного commit'a.

Хэш-код commit'ов отображается в истории (см. **git log**)

**git diff <первые 4 (или более, если есть версии с повторяющимися 4мя первыми символами) символа хэш-кода выбранного commit'a>** - сравнивает текущее состояние файлов в рабочем дереве с версиями файлов в указанном commit'е.

Т.е. если, к примеру было зафиксировано 4 commit'a и хотим сравнить 2й и 3й. Нужно сначала перейти к 3й версии с помощью **git checkout**. Далее сравнить со 2й с помощью **git diff**, указав 4 первые символа хэш-кода 2-го commit'a.

**git checkout master** - возвращает файлы в рабочем дереве к самому актуальному коммиту.

### 2.4. Работа с ветками
**git branch** - Отображает все имеющиеся ветки. При этом "*" помечается текущая.

**git log** - показывает историю commit'ов от текущего указателя (ветки) до самого первого. 

**git branch <имя ветки>** - создает новую ветку с указанным именем.

**git checkout <имя ветки>** - позволяет переключиться на указанную ветку.

**git checkout -b <имя ветки>** - создает новую ветку и сразу на нее переходит.

### 2.6. Работа с удаленными репозиториями

#### 2.6.1. Создание нового репозитория

1. Зайти на https://github.com/ под своей учеткой
2. Нажать одну из кнопок "Create new repository" или в верхнем правом углу +\New repository
3. Заполняем данные репозитория
* **Repository template** - создается тимлидом организации. (при обучении можно не заполнять).
* **Owner** - владелец (обычно вы).
* **Repository name** - имя репозитория (Задаем только латиницей без пробелов. Должно быть уникально среди ваших репозиториев).
* **Description** - описание для сторонних людей, что полезного могут найти.
* **Настройки приватности** - лучше всегда ставить **public**. Т.к. замена **private** на **public** - очень трудоемкий процесс.

#### 2.6.2. Подключение к удаленному репозиторию

1. Переходим в соответствующую папку удаленного репозитория на github.com. Нажимаем кнопку Code. Копируем из нее ссылку.
2. В VSCode в терминале выполняем команду:
**git remote add origin <ссылка на удаленный репозиторий>**
Где <ссылка на удаленный репозиторий> - ссылка из п.1

Есть правило, как то, что главная ветка должна называться "main", так и самый главный репозиторий должен называться "origin".

К одному локальному репозиторию может быть подключено несколько удаленных.

#### 2.6.3. Команды для работы с удаленным репозиторием

**git branch -M main** - задает, как называется главная ветка в репозитории.

**git push -u origin main** - загружает изменения локального репозитория из выбранной ветки в удаленный.
(-u -означает, что хотим ветку, которую запишем в удаленный репозиторий, сделать отслеживаемой)

Может попросить авторизоваться, тогда нужно выбрать "Авторизоваться с используем барузе

**git pull** - подгружает все изменения с удаленного репозитория в локальный и одновременно пытается смерджить.

**git clone <ссылка на удаленный репозиторий>** -
git создаст внутри текуей папки папку с именем удаленного репозитория и перекопирует туда файлы с github.

#### 2.6.4. Участие в opensource проекте

1. Делаем fork интересующего нас удаленного репозитория на github.
2. Переходим в соответствующую папку нашей версии репозитория на github.com. (см. п.1) Нажимаем кнопку Code. Копируем из нее ссылку.
3. В VSCode в терминале выполняем команду:
**git clone <ссылка на удаленный репозиторий>**
Где <ссылка на удаленный репозиторий> - ссылка из п.2
4. Создаем отдельную ветку для предложения изменений (все изменения только там).
5. **git push <имя ветки из п.4>**
6. На github.com появляется кнопка "Pull request"